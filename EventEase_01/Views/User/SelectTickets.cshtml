<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seat Selection</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .seat {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-color: #ccc;
            margin: 5px;
            cursor: pointer;
        }

            .seat.selected {
                background-color: #ffcc00;
            }

        .submit-button {
            margin-top: 20px;
        }
    </style>



<body>
    <h1>Seat Selection</h1>
    <div id="seat-container" class="seat-container">
 
    </div>
    <p>Selected Seats: <span id="selected-seats">0</span></p>

  @if (ViewData["CountOfTickets"] != null)
        {
            var countOfTickets = ViewData["CountOfTickets"] as int?;
        
    <a href="/User/PaymentGateway" class="submit-button" onclick="submitSelection(@countOfTickets)">Submit</a>
        }
    <script>
        
            function submitSelection(int countOfTickets) {
                
                    const selectedSeats = document.querySelectorAll('.seat.selected');
                    for (let i = 0; i < selectedSeats.length; i++) {
                    selectedSeats[i].classList.remove('selected');
                    selectedSeats[i].style.pointerEvents = 'none';
                    selectedSeats[i].style.backgroundColor = '#999';
                    }
                    }
                    document.addEventListener("DOMContentLoaded", function () {
                        const seatContainer = document.getElementById("seat-container");
                        const selectedSeatsCount = document.getElementById("selected-seats");
                        let selectedSeats = 0;

                        for (let i = 1; i <= countOfTickets; i++) {
                            const seat = document.createElement("div");
                            seat.className = "seat";
                            seat.textContent = i;

                            seat.addEventListener("click", function () {
                                if (!seat.classList.contains("selected")) {
                                    seat.classList.add("selected");
                                    selectedSeats++;
                                } else {
                                    seat.classList.remove("selected");
                                    selectedSeats--;
                                }
                                selectedSeatsCount.textContent = selectedSeats;
                            });

                            seatContainer.appendChild(seat);
                        }
        });
    </script>
</body>
</html>


